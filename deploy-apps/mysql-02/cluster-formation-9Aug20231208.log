changed: [240.93.0.172] => {
    "changed": true,
    "cmd": "mysqlsh --file /home/devops/.cb/mysql-shell-scripts/build_cluster.js",
    "delta": "0:03:26.318223",
    "end": "2023-08-09 08:38:23.985027",
    "invocation": {
        "module_args": {
            "_raw_params": "mysqlsh --file /home/devops/.cb/mysql-shell-scripts/build_cluster.js",
            "_uses_shell": true,
            "argv": null,
            "chdir": null,
            "creates": null,
            "executable": null,
            "removes": null,
            "stdin": null,
            "stdin_add_newline": true,
            "strip_empty_ends": true
        }
    },
    "msg": "",
    "rc": 0,
    "start": "2023-08-09 08:34:57.666804",
    "stderr": "Configuring local MySQL instance listening at port 3306 for use in an InnoDB cluster...\n\nThis instance reports its own address as \u001b[1mcd-db-01:3306\u001b[0m\nClients and other cluster members will communicate with it through this address by default. If this is not correct, the report_host MySQL system variable should be changed.\n\napplierWorkerThreads will be set to the default value of 4.\n\nThe instance 'cd-db-01:3306' is valid to be used in an InnoDB cluster.\nThe instance 'cd-db-01:3306' is already ready to be used in an InnoDB cluster.\n\nSuccessfully enabled parallel appliers.\nConfiguring MySQL instance at cd-db-02:3306 for use in an InnoDB cluster...\n\nThis instance reports its own address as \u001b[1mcd-db-02:3306\u001b[0m\nClients and other cluster members will communicate with it through this address by default. If this is not correct, the report_host MySQL system variable should be changed.\n\napplierWorkerThreads will be set to the default value of 4.\n\nThe instance 'cd-db-02:3306' is valid to be used in an InnoDB cluster.\nThe instance 'cd-db-02:3306' is already ready to be used in an InnoDB cluster.\n\nSuccessfully enabled parallel appliers.\nConfiguring MySQL instance at cd-db-03:3306 for use in an InnoDB cluster...\n\nThis instance reports its own address as \u001b[1mcd-db-03:3306\u001b[0m\nClients and other cluster members will communicate with it through this address by default. If this is not correct, the report_host MySQL system variable should be changed.\n\napplierWorkerThreads will be set to the default value of 4.\n\nThe instance 'cd-db-03:3306' is valid to be used in an InnoDB cluster.\nThe instance 'cd-db-03:3306' is already ready to be used in an InnoDB cluster.\n\nSuccessfully enabled parallel appliers.\nA new InnoDB Cluster will be created on instance 'cd-db-01:3306'.\n\nValidating instance configuration at 240.93.0.172:3306...\n\nThis instance reports its own address as \u001b[1mcd-db-01:3306\u001b[0m\n\nInstance configuration is suitable.\n\u001b[36mNOTE: \u001b[0mGroup Replication will communicate with other members using 'cd-db-01:3306'. Use the localAddress option to override.\n\n* Checking connectivity and SSL configuration...\n\nCreating InnoDB Cluster 'cdCluster' on 'cd-db-01:3306'...\n\nAdding Seed Instance...\nCluster successfully created. Use Cluster.addInstance() to add MySQL instances.\nAt least 3 instances are needed for the cluster to be able to withstand up to\none server failure.\n\n\n\u001b[36mNOTE: \u001b[0mThe target instance 'cd-db-02:3306' has not been pre-provisioned (GTID set is empty). The Shell is unable to decide whether incremental state recovery can correctly provision it.\n\nClone based recovery selected through the recoveryMethod option\n\nValidating instance configuration at 240.94.0.155:3306...\n\nThis instance reports its own address as \u001b[1mcd-db-02:3306\u001b[0m\n\nInstance configuration is suitable.\n\u001b[36mNOTE: \u001b[0mGroup Replication will communicate with other members using 'cd-db-02:3306'. Use the localAddress option to override.\n\n* Checking connectivity and SSL configuration...\nA new instance will be added to the InnoDB Cluster. Depending on the amount of\ndata on the cluster this might take from a few seconds to several hours.\n\nAdding instance to the cluster...\n\nMonitoring recovery process of the new cluster member. Press ^C to stop monitoring and let it continue in background.\n\u001b[1mClone based state recovery is now in progress.\u001b[0m\n\n\u001b[36mNOTE: \u001b[0mA server restart is expected to happen as part of the clone process. If the\nserver does not support the RESTART command or does not come back after a\nwhile, you may need to manually start it back.\n\n* Waiting for clone to finish...\n\u001b[36mNOTE: \u001b[0mcd-db-02:3306 is being cloned from cd-db-01:3306\n** Stage DROP DATA: Completed\n** Stage FILE COPY: Completed\n** Stage PAGE COPY: Completed\n** Stage REDO COPY: Completed\n\n\u001b[36mNOTE: \u001b[0mcd-db-02:3306 is shutting down...\n\n\u001b[33mWARNING: \u001b[0mError while waiting for recovery of the added instance: MySQL Error: The provided URI uses the X protocol, which is not supported by this command.\n\u001b[31mERROR: \u001b[0mNot connected",
    "stderr_lines": [
        "Configuring local MySQL instance listening at port 3306 for use in an InnoDB cluster...",
        "",
        "This instance reports its own address as \u001b[1mcd-db-01:3306\u001b[0m",
        "Clients and other cluster members will communicate with it through this address by default. If this is not correct, the report_host MySQL system variable should be changed.",
        "",
        "applierWorkerThreads will be set to the default value of 4.",
        "",
        "The instance 'cd-db-01:3306' is valid to be used in an InnoDB cluster.",
        "The instance 'cd-db-01:3306' is already ready to be used in an InnoDB cluster.",
        "",
        "Successfully enabled parallel appliers.",
        "Configuring MySQL instance at cd-db-02:3306 for use in an InnoDB cluster...",
        "",
        "This instance reports its own address as \u001b[1mcd-db-02:3306\u001b[0m",
        "Clients and other cluster members will communicate with it through this address by default. If this is not correct, the report_host MySQL system variable should be changed.",
        "",
        "applierWorkerThreads will be set to the default value of 4.",
        "",
        "The instance 'cd-db-02:3306' is valid to be used in an InnoDB cluster.",
        "The instance 'cd-db-02:3306' is already ready to be used in an InnoDB cluster.",
        "",
        "Successfully enabled parallel appliers.",
        "Configuring MySQL instance at cd-db-03:3306 for use in an InnoDB cluster...",
        "",
        "This instance reports its own address as \u001b[1mcd-db-03:3306\u001b[0m",
        "Clients and other cluster members will communicate with it through this address by default. If this is not correct, the report_host MySQL system variable should be changed.",
        "",
        "applierWorkerThreads will be set to the default value of 4.",
        "",
        "The instance 'cd-db-03:3306' is valid to be used in an InnoDB cluster.",
        "The instance 'cd-db-03:3306' is already ready to be used in an InnoDB cluster.",
        "",
        "Successfully enabled parallel appliers.",
        "A new InnoDB Cluster will be created on instance 'cd-db-01:3306'.",
        "",
        "Validating instance configuration at 240.93.0.172:3306...",
        "",
        "This instance reports its own address as \u001b[1mcd-db-01:3306\u001b[0m",
        "",
        "Instance configuration is suitable.",
        "\u001b[36mNOTE: \u001b[0mGroup Replication will communicate with other members using 'cd-db-01:3306'. Use the localAddress option to override.",
        "",
        "* Checking connectivity and SSL configuration...",
        "",
        "Creating InnoDB Cluster 'cdCluster' on 'cd-db-01:3306'...",
        "",
        "Adding Seed Instance...",
        "Cluster successfully created. Use Cluster.addInstance() to add MySQL instances.",
        "At least 3 instances are needed for the cluster to be able to withstand up to",
        "one server failure.",
        "",
        "",
        "\u001b[36mNOTE: \u001b[0mThe target instance 'cd-db-02:3306' has not been pre-provisioned (GTID set is empty). The Shell is unable to decide whether incremental state recovery can correctly provision it.",
        "",
        "Clone based recovery selected through the recoveryMethod option",
        "",
        "Validating instance configuration at 240.94.0.155:3306...",
        "",
        "This instance reports its own address as \u001b[1mcd-db-02:3306\u001b[0m",
        "",
        "Instance configuration is suitable.",
        "\u001b[36mNOTE: \u001b[0mGroup Replication will communicate with other members using 'cd-db-02:3306'. Use the localAddress option to override.",
        "",
        "* Checking connectivity and SSL configuration...",
        "A new instance will be added to the InnoDB Cluster. Depending on the amount of",
        "data on the cluster this might take from a few seconds to several hours.",
        "",
        "Adding instance to the cluster...",
        "",
        "Monitoring recovery process of the new cluster member. Press ^C to stop monitoring and let it continue in background.",
        "\u001b[1mClone based state recovery is now in progress.\u001b[0m",
        "",
        "\u001b[36mNOTE: \u001b[0mA server restart is expected to happen as part of the clone process. If the",
        "server does not support the RESTART command or does not come back after a",
        "while, you may need to manually start it back.",
        "",
        "* Waiting for clone to finish...",
        "\u001b[36mNOTE: \u001b[0mcd-db-02:3306 is being cloned from cd-db-01:3306",
        "** Stage DROP DATA: Completed",
        "** Stage FILE COPY: Completed",
        "** Stage PAGE COPY: Completed",
        "** Stage REDO COPY: Completed",
        "",
        "\u001b[36mNOTE: \u001b[0mcd-db-02:3306 is shutting down...",
        "",
        "\u001b[33mWARNING: \u001b[0mError while waiting for recovery of the added instance: MySQL Error: The provided URI uses the X protocol, which is not supported by this command.",
        "\u001b[31mERROR: \u001b[0mNot connected"
    ],
    "stdout": "InnoDB cluster set up\n==================================\nSetting up a Percona Server for MySQL - InnoDB cluster.\n\n\nNumber of Hosts: 3\n\nList of hosts:\nHost: 240.93.0.172\nHost: 240.94.0.155\nHost: 240.95.0.221\n\nConfiguring the instances.\n=> \n=> \n=> \nConfiguring Instances completed.\n\nSetting up InnoDB Cluster.\n\nAdding instances to the cluster.\n\n=> * Waiting for server restart... \\ \r* Waiting for server restart... | \r* Waiting for server restart... / \r* Waiting for server restart... - \r* Waiting for server restart... \\ \r* Waiting for server restart... | \r* Waiting for server restart... / \r* Waiting for server restart... - \r* Waiting for server restart... \\ \r* Waiting for server restart... | \r* Waiting for server restart... / \r* Waiting for server restart... error \n\nThe InnoDB cluster could not be created.\n{\"code\":-1,\"message\":\"Cluster.addInstance: Not connected\",\"type\":\"RuntimeError\"}",
    "stdout_lines": [
        "InnoDB cluster set up",
        "==================================",
        "Setting up a Percona Server for MySQL - InnoDB cluster.",
        "",
        "",
        "Number of Hosts: 3",
        "",
        "List of hosts:",
        "Host: 240.93.0.172",
        "Host: 240.94.0.155",
        "Host: 240.95.0.221",
        "",
        "Configuring the instances.",
        "=> ",
        "=> ",
        "=> ",
        "Configuring Instances completed.",
        "",
        "Setting up InnoDB Cluster.",
        "",
        "Adding instances to the cluster.",
        "",
        "=> * Waiting for server restart... \\ ",
        "* Waiting for server restart... | ",
        "* Waiting for server restart... / ",
        "* Waiting for server restart... - ",
        "* Waiting for server restart... \\ ",
        "* Waiting for server restart... | ",
        "* Waiting for server restart... / ",
        "* Waiting for server restart... - ",
        "* Waiting for server restart... \\ ",
        "* Waiting for server restart... | ",
        "* Waiting for server restart... / ",
        "* Waiting for server restart... error ",
        "",
        "The InnoDB cluster could not be created.",
        "{\"code\":-1,\"message\":\"Cluster.addInstance: Not connected\",\"type\":\"RuntimeError\"}"
    ]
}